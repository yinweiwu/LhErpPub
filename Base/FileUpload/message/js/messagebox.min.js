/***************************************************************************************************
MessageBox - A jQuery Plugin to replace Javascript's window.alert(), window.confirm() and window.prompt() functions
	Author			: Gaspare Sganga
	Version			: 1.0
	License			: MIT
	Documentation	: http://gasparesganga.com/labs/jquery-message-box
****************************************************************************************************/
!function(a,b){function e(){if(0!=c.length&&!a("#messagebox_overlay").length){var d=c.shift(),e=d.settings,i=d.retDeferred,j=a("<div>",{id:"messagebox_overlay"}).appendTo(a("body")),k=a("<div>",{id:"messagebox"}).appendTo(j);e.width!==b&&k.width(e.width);var l=a("<div>",{id:"messagebox_content",html:e.message}).appendTo(k);e.input&&a("<input>",{id:"messagebox_content_input",type:"text"}).appendTo(l).trigger("focus");var m=a("<div>",{id:"messagebox_buttons"}).appendTo(k);a("<button>",{id:"messagebox_button_done",text:e.buttonDone}).on("click",f).appendTo(m),e.buttonFail&&a("<button>",{id:"messagebox_button_fail",text:e.buttonFail}).on("click",f).prependTo(m),a(window).on("resize",{messageBox:k},g).on("keydown",h).triggerHandler("resize"),k.data("settings",e),k.data("retDeferred",i),k.animate({top:e.top},e.speed)}}function f(b){var c=a(b.currentTarget),d=c.closest("#messagebox"),f=d.data("settings"),i=d.data("retDeferred");d.animate({top:"-100%"},f.speed,function(){a(window).off("resize",g).off("keydown",h),a("#messagebox_overlay").remove(),"messagebox_button_done"==c.attr("id")?i.resolve(d.find("#messagebox_content_input").val()):i.reject(),e()})}function g(b){var c=b.data.messageBox;c.css("left",(a(b.currentTarget).width()-c.outerWidth())/2)}function h(b){return 27===b.keyCode?(a("#messagebox_button_fail").trigger("click").length||a("#messagebox_button_done").trigger("click"),!1):13===b.keyCode?(a("#messagebox_button_done").trigger("click"),!1):void 0}var c=[],d={buttonDone:"OK",buttonFail:b,message:"",input:!1,speed:200,top:"25%",width:b};a.MessageBoxSetup=function(b){a.extend(!0,d,b)},a.MessageBox=function(b){"object"!=typeof b&&(b={message:b});var f=a.Deferred(),g=a.extend(!0,{},d,b);return c.push({settings:g,retDeferred:f}),e(),f.promise()}}(jQuery);